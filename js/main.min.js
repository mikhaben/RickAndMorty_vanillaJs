const darkModeBtn=document.getElementById("dark-mode"),backgroundBody=document.getElementById("body");async function getData(){try{const n=n=>`\n      <div class="card">\n         <img src="${n.image}" class="card__img" alt="image">\n         <div class="card__body">\n           <h5 class="card__title">${n.name}</h5>\n           <span class="status">${n.status}</span> - <span class="gender">${n.species}</span>\n            <button class="card-btn" id="card-${n.id}" data-url="https://rickandmortyapi.com/api/character/${n.id}">\n             All episodes\n            </button>\n         </div>\n      </div>\n      `,e="https://rickandmortyapi.com/api/character",t=await fetch(e),a=(await t.json()).results;for(let e in a)document.getElementById("card-box").innerHTML=a.map(n).join("")}catch(n){console.error(n)}}darkModeBtn.onclick=function(n){n.preventDefault(),backgroundBody.classList.toggle("dark-mode"),backgroundBody.classList.contains("dark-mode")?localStorage.setItem("background","dark-mode"):localStorage.setItem("background","")},document.addEventListener("DOMContentLoaded",(function(n){let e=localStorage.getItem("background");e&&(document.body.className+=e)})),getData().then(n=>{document.getElementById("card-box").onclick=function(n){let e=n.target;if("card-btn"==e.className){const n=e.dataset.url;document.getElementById("card-box").innerHTML="",async function(){const e=await fetch(n),t=await e.json(),a=t.episode;document.getElementById("card-box").innerHTML=(n=>`\n               <div class="card-info__box">\n                  <img src="${n.image}" alt="image" class="card-info__img">\n                  <div class="card-info__text">\n                  <h3>${n.name}</h3>\n                  <div class="card-info__status">\n                     <div class="card-info__status_status">&#8987; ${n.status}</div>\n                     <div class="card-info__status_species">&#128125; ${n.species}</div>\n                     <div class="card-info__status_gender">&#128107; ${n.gender}</div>\n                     <div class="card-info__status_location">&#127759; ${n.location.name}</div>\n                     </div>\n                  <div class="card-info__episode">\n                     <strong>Watch all episodes</strong>\n                        &#128073;<br>\n                        <div id='episode-column' class='episode-column'>\n\n                        </div>\n                  </div>\n                 </div>\n               </div>\n               `)(t),a.forEach(n=>{document.getElementById("episode-column").innerHTML+=`\n                              <a href="${n}" target="_blank">${n}</a>\n                           `})}()}}});const form=document.getElementById("form");function addData(n){n.preventDefault();let e=document.getElementById("form").elements,t={};for(let n=0;n<e.length;n++)"submit"!=e[n].type&&("text"==e[n].type||"radio"==e[n].type&&e[n].checked)&&(t[e[n].name]=e[n].value);document.getElementById("added-cards").innerHTML+=`\n      <div class="new-card">\n         <img src="${t.src_img}" alt="img">\n         <div class="new-card__description">\n            <h2>${t.name}</h2>\n            <div><span>gender:</span> ${t.gender}</div><br>\n            <div><span>small history:</span><br>${t.description}</div>\n         </div>\n      </div>\n      `,form.reset()}form&&form.addEventListener("submit",addData);